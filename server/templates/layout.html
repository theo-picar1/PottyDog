<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- PubNub -->
    <script src="https://cdn.pubnub.com/sdk/javascript/pubnub.7.4.0.min.js"></script>
    <script>
        const pubnub = new PubNub({
            subscribeKey: "{{ pubnub_sub_key }}",  
            uuid: "pottydog-website"
        })

        pubnub.subscribe({
            channels: ["Channel-Barcelona"]
        })

        pubnub.addListener({
            message: function(event) {
                const motion = event.message.motion
                document.getElementById("status-message").innerText =
                motion === "detected" ? "ðŸš¨ Motion Detected!" : "âœ… No Motion"
            }
        })
    </script>
</head>
<body>
    {% block body %}{% endblock %}

    <!-- JS Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>